FROM resin/intel-nuc-debian

# Enable systemd init system in container
ENV INITSYSTEM on

RUN apt-get -q update && apt-get install -yq --no-install-recommends \
  build-essential \
  curl \
  libtbb-dev \
  libopenblas-dev \
  cmake \
  && apt-get clean && rm -rf /var/lib/apt/lists/*

RUN ./install_opencv.sh

COPY . /usr/src/app
WORKDIR /usr/src/app

RUN ./build.sh
# RUN g++ -o hello hello.cpp

CMD ./run.sh
